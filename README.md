# Full-Stack-Cadastro-Estacionamento

[![Python](https://img.shields.io/badge/Python-3.x-blue.svg)](https://www.python.org/)
[![Django](https://img.shields.io/badge/Django-4.x-brightgreen.svg)](https://www.djangoproject.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14%2B-blue.svg)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Built with Docker](https://img.shields.io/badge/Built%20with-Docker-blue.svg)](https://www.docker.com/) 
 
--- 

## üìÑ Sum√°rio

* [Vis√£o Geral do Projeto](#-vis√£o-geral-do-projeto)
* [Objetivos](#-objetivos)
* [Funcionalidades Principais](#-funcionalidades-principais)
* [Tecnologias Utilizadas](#-tecnologias-utilizadas)
* [Arquitetura do Sistema](#-arquitetura-do-sistema)
    * [Arquitetura L√≥gica](#arquitetura-l√≥gica)
    * [Arquitetura F√≠sica/Implanta√ß√£o](#arquitetura-f√≠sicadeploymente)
* [Como Come√ßar](#-como-come√ßar)
    * [Pr√©-requisitos](#pr√©-requisitos)
    * [Instala√ß√£o e Configura√ß√£o (Ambiente de Desenvolvimento)](#instala√ß√£o-e-configura√ß√£o-ambiente-de-desenvolvimento)
    * [Execu√ß√£o do Projeto](#execu√ß√£o-do-projeto)
* [Testes](#-testes)
* [Documenta√ß√£o da API](#-documenta√ß√£o-da-api)
* [Estrutura do Projeto](#-estrutura-do-projeto)
* [Contribui√ß√£o](#-contribui√ß√£o)
* [Licen√ßa](#-licen√ßa)
* [Autores](#-autores)

---

## üöÄ Vis√£o Geral do Projeto

O **Sistema de Cadastro de Estacionamento** √© uma aplica√ß√£o web Full-Stack desenvolvida com o objetivo de modernizar e automatizar a gest√£o de ve√≠culos em estacionamentos de institui√ß√µes e empresas. Este projeto visa substituir m√©todos de controle manuais por uma solu√ß√£o digital eficiente, segura e escal√°vel, proporcionando um gerenciamento otimizado de clientes, ve√≠culos, vagas, e registros de entrada e sa√≠da.

O sistema permite o cadastro completo de entidades, oferece funcionalidades de autentica√ß√£o e filtros avan√ßados, e integra-se com servi√ßos externos para autocompletar dados de ve√≠culos e notificar propriet√°rios em tempo real.

## üéØ Objetivos

* **Modernizar e Automatizar:** Transformar o processo manual de gest√£o de estacionamento em um sistema digital.
* **Controle Eficiente:** Proporcionar um controle preciso e em tempo real da ocupa√ß√£o de vagas e movimenta√ß√£o de ve√≠culos.
* **Melhorar a Experi√™ncia do Usu√°rio:** Oferecer acesso simplificado aos clientes para visualizarem seus pr√≥prios registros e ve√≠culos.
* **Comunica√ß√£o Efetiva:** Notificar propriet√°rios sobre a entrada e sa√≠da de seus ve√≠culos.
* **Escalabilidade e Manutenibilidade:** Construir uma solu√ß√£o robusta que possa crescer e ser facilmente mantida.

## ‚ú® Funcionalidades Principais

* **Cadastros Completos:** Gerenciamento de clientes, ve√≠culos, vagas e registros de entrada/sa√≠da.
* **Autentica√ß√£o e Autoriza√ß√£o:** Sistema de login seguro com controle de usu√°rios, acessos e permiss√µes.
* **Acesso de Clientes:** Clientes podem visualizar seus ve√≠culos e registros de estacionamento.
* **Autocompletar Dados de Ve√≠culos:** Preenchimento autom√°tico de informa√ß√µes do ve√≠culo (marca, modelo, cor) ao informar a placa, via consulta a uma API externa.
* **Notifica√ß√µes em Tempo Real:** Envio de notifica√ß√µes via WhatsApp (Evolution API) e E-mail (SMTP) aos propriet√°rios na entrada e sa√≠da dos ve√≠culos.
* **Status de Vagas Autom√°tico:** Atualiza√ß√£o autom√°tica do status das vagas (ocupado/livre) ao registrar entradas e sa√≠das.
* **Sistema de Administra√ß√£o Interno:** Painel administrativo para gerenciamento completo do sistema (via Jazzmin).
* **API RESTful:** Exposi√ß√£o de endpoints para futuras integra√ß√µes e comunica√ß√£o eficiente entre frontend e backend.

## üõ†Ô∏è Tecnologias Utilizadas

O projeto foi desenvolvido utilizando um stack tecnol√≥gico moderno e robusto:

* **Linguagem de Programa√ß√£o:** Python 3.x
* **Framework Web:** Django (para o backend e a l√≥gica de neg√≥cio).
* **Banco de Dados:**
    * SQLite3 (para desenvolvimento local r√°pido e inicial).
    * PostgreSQL (recomendado para ambientes de produ√ß√£o, conforme requisitos).
* **API / Autentica√ß√£o:**
    * Django REST Framework: Constru√ß√£o de APIs RESTful.
    * JWT Token: Autentica√ß√£o segura e sem estado para a API.
    * RQL: Linguagem de consulta para filtragem de dados na API.
* **Processamento Ass√≠ncrono:**
    * Celery: Fila de tarefas distribu√≠da para processamento em segundo plano (ex: autocompletar dados de ve√≠culos, notifica√ß√µes).
    * RabbitMQ: Broker de mensagens que atua como a fila para o Celery.
* **Comunica√ß√£o Externa:**
    * Evolution API: Servi√ßo de integra√ß√£o para envio de notifica√ß√µes via WhatsApp.
    * SMTP: Protocolo para envio de notifica√ß√µes via e-mail.
* **Cont√™ineriza√ß√£o:** Docker (para empacotamento e execu√ß√£o consistente em diferentes ambientes).
* **Qualidade de C√≥digo:**
    * Linter: Para garantir a consist√™ncia e qualidade do c√≥digo.
    * PEP08: Guia de estilo de c√≥digo Python.
* **Documenta√ß√£o da API:** Swagger (para documenta√ß√£o interativa e visualiza√ß√£o dos endpoints da API).
* **Painel Administrativo:** Jazzmin (customiza√ß√£o e melhoria da interface de administra√ß√£o do Django).

## üèõÔ∏è Arquitetura do Sistema

A arquitetura do Sistema de Cadastro de Estacionamento √© baseada em um modelo de **Arquitetura em Camadas (Layered Architecture)**, promovendo a separa√ß√£o de responsabilidades e a modularidade.

### Arquitetura L√≥gica

O diagrama abaixo ilustra a organiza√ß√£o l√≥gica dos componentes e suas intera√ß√µes:

```plantuml
@startuml
component "Frontend (Browser/Mobile)" as Frontend
component "Backend API (Django REST Framework)" as Backend
database "Banco de Dados (PostgreSQL)" as DB
component "Fila de Tarefas (RabbitMQ)" as RabbitMQ
component "Worker de Tarefas (Celery)" as Celery
component "Servi√ßo de Notifica√ß√£o (Evolution API/SMTP)" as NotificationService
component "API Externa de Consulta de Ve√≠culos" as APIExterna
component "Dashboard Administrativo (Jazzmin)" as AdminDashboard

Frontend --> Backend : Requisi√ß√µes HTTP/HTTPS
Backend --> DB : Acesso a Dados (ORM Django)
Backend --> RabbitMQ : Enviar Tarefas Ass√≠ncronas
RabbitMQ --> Celery : Consumir Tarefas
Celery --> NotificationService : Enviar Notifica√ß√µes (WhatsApp/Email)
Celery --> APIExterna : Consulta de Dados de Ve√≠culos
AdminDashboard --> Backend : Gerenciamento (Django Admin)
@enduml
Como visualizar o diagrama: Copie o c√≥digo acima e cole em um editor PlantUML online (como http://www.plantuml.com/plantuml/) ou em uma ferramenta com suporte a PlantUML para gerar a imagem.

Arquitetura F√≠sica/Implanta√ß√£o
O sistema √© projetado para ser implantado utilizando Docker Containers, garantindo portabilidade, isolamento e escalabilidade.

Snippet de c√≥digo

@startuml
node "Servidor de Aplica√ß√£o" {
  folder "Container Web Server (Nginx)" as Nginx {
    component "Gunicorn" as Gunicorn
  }
  folder "Container Aplica√ß√£o Django" as DjangoApp
  folder "Container Banco de Dados (PostgreSQL)" as DBContainer
  folder "Container Fila de Mensagens (RabbitMQ)" as RabbitMQContainer
  folder "Container Worker de Tarefas (Celery)" as CeleryContainer
}

cloud "Internet" as Internet {
  cloud "API Externa de Consulta de Ve√≠culos" as ExternalAPI
  cloud "Servi√ßo WhatsApp (Evolution API)" as WhatsAppAPI
  cloud "Servi√ßo E-mail (SMTP)" as EmailSMTP
}

user "Usu√°rio Cliente" as ClientUser
user "Usu√°rio Administrativo" as AdminUser

ClientUser --> Internet
AdminUser --> Internet
Internet --> Nginx : Requisi√ß√µes HTTP/HTTPS
Nginx --> Gunicorn : Comunica√ß√£o Proxy Reversa
Gunicorn --> DjangoApp : Comunica√ß√£o WSGI
DjangoApp --> DBContainer : Conex√£o BD
DjangoApp --> RabbitMQContainer : Publicar Mensagens

RabbitMQContainer --> CeleryContainer : Consumir Mensagens
CeleryContainer --> ExternalAPI : Consulta de Placa
CeleryContainer --> WhatsAppAPI : Envio WhatsApp
CeleryContainer --> EmailSMTP : Envio E-mail
@enduml
Como visualizar o diagrama: Copie o c√≥digo acima e cole em um editor PlantUML online ou em uma ferramenta com suporte a PlantUML para gerar a imagem.

üöÄ Como Come√ßar
Para configurar e executar o projeto em seu ambiente de desenvolvimento:

Pr√©-requisitos
Certifique-se de ter instalado:

Python 3.x
pip (gerenciador de pacotes do Python)
Git
Docker e Docker Compose (opcional, mas recomendado para ambiente de desenvolvimento/produ√ß√£o)
Instala√ß√£o e Configura√ß√£o (Ambiente de Desenvolvimento)
Clone o Reposit√≥rio:

Bash

git clone [https://github.com/P4dro-Dev/Full-Stack-Cadastro-Estacionamento.git](https://github.com/P4dro-Dev/Full-Stack-Cadastro-Estacionamento.git)
cd Full-Stack-Cadastro-Estacionamento
Crie e Ative um Ambiente Virtual:

Bash

python -m venv venv
# No Windows
.\venv\Scripts\activate
# No Linux/macOS
source venv/bin/activate
Instale as Depend√™ncias:

Bash

pip install -r requirements.txt # Certifique-se de ter um arquivo requirements.txt com as depend√™ncias do projeto
Se requirements.txt n√£o existir, voc√™ pode gerar um com pip freeze > requirements.txt ap√≥s instalar as bibliotecas.

Configura√ß√µes do Projeto (Arquivo .env):
Crie um arquivo .env na raiz do projeto (ou configure diretamente em core/settings.py para desenvolvimento) com vari√°veis de ambiente para chaves de API, configura√ß√µes de e-mail, etc.
Exemplo de .env:

SECRET_KEY='sua_chave_secreta_django'
DEBUG=True
ALLOWED_HOSTS='*'
DATABASE_URL='sqlite:///db.sqlite3' # Para desenvolvimento com SQLite
# Ou para PostgreSQL:
# DATABASE_URL='postgresql://user:password@host:port/dbname'
# EVOLUTION_API_URL='url_da_evolution_api'
# EVOLUTION_API_TOKEN='seu_token_evolution_api'
# EMAIL_HOST='seu_host_smtp'
# EMAIL_PORT='porta_smtp'
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER='seu_email'
# EMAIL_HOST_PASSWORD='sua_senha_email'
Aplique as Migra√ß√µes do Banco de Dados:

Bash

python manage.py migrate
Crie um Superusu√°rio (para acesso ao Admin Django):

Bash

python manage.py createsuperuser
Execu√ß√£o do Projeto
Inicie o Servidor de Desenvolvimento Django:

Bash

python manage.py runserver
O sistema estar√° acess√≠vel em http://127.0.0.1:8000/. O painel administrativo estar√° em http://127.0.0.1:8000/admin/.

Inicie os Workers Celery (em um terminal separado):
Para processar tarefas ass√≠ncronas (como autocompletar e notifica√ß√µes), voc√™ precisar√° de um broker de mensagens (RabbitMQ) e workers Celery.

Com Docker Compose (Recomendado): Se voc√™ tiver um docker-compose.yml para RabbitMQ e Celery, inicie-os:
Bash

docker-compose up -d rabbitmq celery
Sem Docker (se RabbitMQ e Redis estiverem instalados localmente):
Bash

celery -A core worker -l info
üß™ Testes
O projeto inclui uma su√≠te de testes abrangente para garantir a qualidade e o correto funcionamento das funcionalidades.

Para executar todos os testes:

Bash

python manage.py test
Para gerar um relat√≥rio de cobertura de c√≥digo (requer coverage.py instalado: pip install coverage):

Bash

coverage run manage.py test
coverage report
coverage html # Para um relat√≥rio HTML detalhado
üìö Documenta√ß√£o da API
A documenta√ß√£o da API RESTful √© gerada automaticamente usando Swagger (se implementado e configurado no projeto). Uma vez que o servidor esteja rodando, a documenta√ß√£o estar√° dispon√≠vel em um endpoint espec√≠fico, como http://127.0.0.1:8000/swagger/ ou http://127.0.0.1:8000/redoc/.

üìÅ Estrutura do Projeto
A estrutura principal do projeto segue a conven√ß√£o do Django:

.
‚îú‚îÄ‚îÄ core/                  # Configura√ß√µes globais do Django
‚îú‚îÄ‚îÄ customers/             # M√≥dulo de gerenciamento de clientes
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Defini√ß√£o do modelo Customer
‚îÇ   ‚îî‚îÄ‚îÄ admin.py           # Configura√ß√µes do admin para Customer
‚îú‚îÄ‚îÄ vehicles/              # M√≥dulo de gerenciamento de ve√≠culos
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Defini√ß√£o dos modelos VehicleType, Vehicle
‚îÇ   ‚îî‚îÄ‚îÄ admin.py           # Configura√ß√µes do admin para VehicleType, Vehicle
‚îú‚îÄ‚îÄ parking/               # M√≥dulo de gerenciamento de estacionamento e registros
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Defini√ß√£o dos modelos ParkingSpot, ParkingRecord
‚îÇ   ‚îú‚îÄ‚îÄ signals.py         # L√≥gica para atualiza√ß√£o autom√°tica de vagas
‚îÇ   ‚îî‚îÄ‚îÄ admin.py           # Configura√ß√µes do admin para ParkingSpot, ParkingRecord
‚îú‚îÄ‚îÄ venv/                  # Ambiente virtual (ignorada pelo Git)
‚îú‚îÄ‚îÄ manage.py              # Utilit√°rio de linha de comando do Django
‚îú‚îÄ‚îÄ requirements.txt       # Depend√™ncias do projeto
‚îú‚îÄ‚îÄ .env.example           # Exemplo de arquivo de vari√°veis de ambiente
‚îî‚îÄ‚îÄ README.md              # Este arquivo
ü§ù Contribui√ß√£o
Contribui√ß√µes s√£o bem-vindas! Se voc√™ deseja contribuir com o projeto, siga estes passos:

Fa√ßa um fork do reposit√≥rio.
Crie uma nova branch (git checkout -b feature/sua-feature).
Implemente suas altera√ß√µes e escreva testes adequados.
Execute os testes e verifique a cobertura.
Fa√ßa commit de suas altera√ß√µes (git commit -m 'feat: Adiciona nova funcionalidade X').
Envie para a branch original (git push origin feature/sua-feature).
Abra um Pull Request.
üìù Licen√ßa
Este projeto est√° licenciado sob a licen√ßa MIT. Veja o arquivo LICENSE para mais detalhes.

üë• Autores
P4dro-Dev
Rafael Roseno
